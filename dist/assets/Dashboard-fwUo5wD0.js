import{b as e,j as t,L as a,m as s}from"./vendor-DipI55fN.js";import{c as r,a as i,u as n,H as l,g as d,s as o,d as c,l as m}from"./index-B4p1QXRc.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=r("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),x=({language:r})=>{const[x,h]=e.useState([]),[u,y]=e.useState([]),[p,b]=e.useState(!0),{user:j}=i(),{showNotification:w}=n(),[v,N]=e.useState(null);e.useEffect((()=>{const e=()=>{const e=localStorage.getItem("localPalmReadings"),t=e?JSON.parse(e):[];y(t)};return window.addEventListener("localPalmReadingsUpdated",e),e(),()=>window.removeEventListener("localPalmReadingsUpdated",e)}),[]),e.useEffect((()=>{j&&(async()=>{try{const{data:e,error:t}=await o.from("saved_readings").select("*").eq("user_id",null==j?void 0:j.id).order("created_at",{ascending:!1});if(t)throw t;h(e||[])}catch(e){w("error","english"===r?"Failed to fetch readings":"रीडिंग्स लाने में विफल")}finally{b(!1)}})()}),[j]);const k=e=>{const t=new Date(e);return new Intl.DateTimeFormat("english"===r?"en-US":"hi-IN",{year:"numeric",month:"long",day:"numeric"}).format(t)};return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:[t.jsxs(l,{children:[t.jsx("title",{children:"User Dashboard - VishwaGuru"}),t.jsx("meta",{name:"description",content:"Access your saved numerology and palmistry readings, manage your account, and explore your spiritual journey on VishwaGuru."}),t.jsx("link",{rel:"canonical",href:"https://www.vishwaguru.site/dashboard"}),t.jsx("meta",{property:"og:title",content:"User Dashboard - VishwaGuru"}),t.jsx("meta",{property:"og:description",content:"Access your saved numerology and palmistry readings, manage your account, and explore your spiritual journey on VishwaGuru."}),t.jsx("meta",{property:"og:url",content:"https://www.vishwaguru.site/dashboard"}),t.jsx("meta",{property:"og:type",content:"website"}),t.jsx("meta",{property:"og:image",content:"https://www.vishwaguru.site/VishwaGuruLogo.png"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:"User Dashboard - VishwaGuru"}),t.jsx("meta",{name:"twitter:description",content:"Access your saved numerology and palmistry readings, manage your account, and explore your spiritual journey on VishwaGuru."}),t.jsx("meta",{name:"twitter:image",content:"https://www.vishwaguru.site/VishwaGuruLogo.png"})]}),t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs(a,{to:"/",className:"inline-flex items-center gap-2 mb-6 px-4 py-2 rounded-lg bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 font-semibold shadow hover:bg-blue-200 dark:hover:bg-blue-800 transition w-fit",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"english"===r?"Back to Home":"होम पेज पर वापस जाएं"]}),t.jsxs("div",{className:"flex flex-col items-center mb-12",children:[t.jsx(s.img,{src:"/VishwaGuruDashboardLogo.svg",alt:"VishwaGuru Logo",className:"w-24 h-24 mb-6 dark:invert",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5}}),t.jsx(s.h1,{className:"text-4xl font-bold text-gray-900 dark:text-white text-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:"english"===r?"Your Spiritual Journey":"आपकी आध्यात्मिक यात्रा"}),t.jsx(s.p,{className:"mt-2 text-lg text-gray-600 dark:text-gray-400 text-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},children:"english"===r?"Explore your numerological readings and insights":"अपनी संख्यात्मक पठन और अंतर्दृष्टि का अन्वेषण करें"})]}),p?t.jsx(s.div,{className:"text-center text-gray-600 dark:text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:"english"===r?"Loading...":"लोड हो रहा है..."}):0===x.length?t.jsxs(s.div,{className:"text-center p-8 rounded-lg bg-white dark:bg-gray-800 shadow-md",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[t.jsx("img",{src:"/VishwaGuruDashboardLogo.svg",alt:"Empty state",className:"w-16 h-16 mx-auto mb-4 opacity-50 dark:invert"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"english"===r?"No saved readings yet. Calculate a reading to begin your spiritual journey!":"अभी तक कोई सहेजी गई रीडिंग नहीं है। अपनी आध्यात्मिक यात्रा शुरू करने के लिए एक रीडिंग की गणना करें!"})]}):t.jsx("div",{className:"space-y-6",children:x.map((e=>{const a=d(e.destiny_number,c),i=d(e.life_path_number,m),n=v===e.id;return t.jsxs(s.div,{layout:!0,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.name}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["english"===r?"Created on: ":"बनाया गया: ",k(e.created_at)]})]}),t.jsx("button",{onClick:()=>(async e=>{if(window.confirm("english"===r?"Are you sure you want to delete this reading?":"क्या आप वाकई इस रीडिंग को हटाना चाहते हैं?"))try{const{error:t}=await o.from("saved_readings").delete().eq("id",e);if(t)throw t;h(x.filter((t=>t.id!==e))),w("success","english"===r?"Reading deleted successfully":"रीडिंग सफलतापूर्वक हटा दी गई")}catch(t){w("error","english"===r?"Failed to delete reading":"रीडिंग हटाने में विफल")}})(e.id),className:"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300",children:t.jsx(g,{size:20})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["english"===r?"Destiny Number":"भाग्य अंक",": ",e.destiny_number]}),t.jsxs("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["english"===r?"Life Path Number":"जीवन पथ अंक",": ",e.life_path_number]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["english"===r?"Soul Urge Number":"आत्मा की इच्छा अंक",": ",e.soul_urge_number]}),t.jsxs("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["english"===r?"Personality Number":"व्यक्तित्व अंक",": ",e.personality_number]})]})]}),t.jsx(s.button,{onClick:()=>{return t=e.id,void N(v===t?null:t);var t},className:"w-full text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300 text-sm font-medium",children:n?"english"===r?"Show Less":"कम दिखाएं":"english"===r?"View Full Reading":"पूरी रीडिंग देखें"}),n&&t.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 space-y-4",children:[t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"english"===r?`Destiny Number ${e.destiny_number}`:`भाग्य अंक ${e.destiny_number}`}),t.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"english"===r?null==a?void 0:a.englishDescription:null==a?void 0:a.hindiDescription})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"english"===r?`Life Path Number ${e.life_path_number}`:`जीवन पथ अंक ${e.life_path_number}`}),t.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"english"===r?null==i?void 0:i.englishDescription:null==i?void 0:i.hindiDescription})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"english"===r?`Soul Urge Number ${e.soul_urge_number}`:`आत्मा की इच्छा अंक ${e.soul_urge_number}`}),t.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"english"===r?"Detailed interpretation coming soon":"विस्तृत व्याख्या जल्द ही आ रही है"})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"english"===r?`Personality Number ${e.personality_number}`:`व्यक्तित्व अंक ${e.personality_number}`}),t.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"english"===r?"Detailed interpretation coming soon":"विस्तृत व्याख्या जल्द ही आ रही है"})]})]})]},e.id)}))}),t.jsxs("div",{className:"mt-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"english"===r?"Saved Palm Readings":"सहेजे गए हस्तरेखा पठन"}),0===u.length?t.jsxs(s.div,{className:"text-center p-8 rounded-lg bg-white dark:bg-gray-800 shadow-md",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[t.jsx("img",{src:"/VishwaGuruDashboardLogo.svg",alt:"Empty state",className:"w-16 h-16 mx-auto mb-4 opacity-50 dark:invert"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"english"===r?"No saved palm readings yet. Get a palm reading to begin your journey!":"अभी तक कोई सहेजी गई हस्तरेखा पठन नहीं है। अपनी यात्रा शुरू करने के लिए एक हस्तरेखा पठन प्राप्त करें!"})]}):t.jsx("div",{className:"space-y-6",children:u.map((e=>t.jsxs(s.div,{layout:!0,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"english"===r?"Palm Reading":"हस्तरेखा पठन"}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["english"===r?"Created on: ":"बनाया गया: ",k(e.created_at)]})]}),t.jsx("button",{onClick:()=>(async e=>{y(u.filter((t=>t.id!==e)))})(e.id),className:"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300",children:t.jsx(g,{size:20})})]}),t.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e.prediction})]},e.id)))})]})]})]})};export{x as default};
